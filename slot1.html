<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ª–æ—Ç-–º–∞—à–∏–Ω–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ñ–æ–Ω–∞ */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #1a1a2e; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω */
            font-family: 'Inter', sans-serif; /* –®—Ä–∏—Ñ—Ç Inter */
        }
        .slot-reel {
            background-color: #2c2c54; /* –¢–µ–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –¥–ª—è –±–∞—Ä–∞–±–∞–Ω–æ–≤ */
            border: 2px solid #40407a; /* –ì—Ä–∞–Ω–∏—Ü–∞ –±–∞—Ä–∞–±–∞–Ω–æ–≤ */
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease-out; /* –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
        }
        .slot-symbol {
            font-size: 3rem; /* –†–∞–∑–º–µ—Ä —Å–∏–º–≤–æ–ª–æ–≤ */
            line-height: 1;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5); /* –¢–µ–Ω—å –¥–ª—è —Å–∏–º–≤–æ–ª–æ–≤ */
        }
        .play-button {
            background: linear-gradient(180deg, #ff6b6b 0%, #ee5253 100%); /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ */
            transition: background 0.3s ease, transform 0.1s ease; /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2); /* –¢–µ–Ω—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ */
        }
        .play-button:hover {
            background: linear-gradient(180deg, #ee5253 0%, #ff6b6b 100%);
        }
        .play-button:active {
            transform: translateY(2px); /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞–∂–∞—Ç–∏—è */
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
        }
        .play-button:disabled {
            background: #999; /* –°–µ—Ä—ã–π —Ü–≤–µ—Ç –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏ */
            cursor: not-allowed;
            opacity: 0.7;
            box-shadow: none;
        }
         .bonus-button {
            background: linear-gradient(180deg, #feca57 0%, #ff9f43 100%); /* –ó–æ–ª–æ—Ç–æ–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            transition: background 0.3s ease, transform 0.1s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }
        .bonus-button:hover {
            background: linear-gradient(180deg, #ff9f43 0%, #feca57 100%);
        }
         .bonus-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
        }
        /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è (–ø—Ä–æ—Å—Ç–∞—è) */
        @keyframes spin {
            0% { transform: translateY(-15px); opacity: 0.5; }
            50% { transform: translateY(15px); opacity: 0.5; }
            100% { transform: translateY(0); opacity: 1; }
        }
        .spinning {
            animation: spin 0.2s linear 3; /* 3 –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-900">
    <div class="bg-gray-800 p-8 rounded-lg shadow-xl text-center max-w-md w-full">
        <h1 id="attempts-text" class="text-2xl font-bold text-yellow-400 mb-6">–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: 3</h1>

        <div class="flex justify-center space-x-4 mb-8">
            <div id="slot1" class="slot-reel w-20 h-24 rounded-md flex items-center justify-center">
                <span class="slot-symbol">‚ùì</span>
            </div>
            <div id="slot2" class="slot-reel w-20 h-24 rounded-md flex items-center justify-center">
                <span class="slot-symbol">‚ùì</span>
            </div>
            <div id="slot3" class="slot-reel w-20 h-24 rounded-md flex items-center justify-center">
                <span class="slot-symbol">‚ùì</span>
            </div>
        </div>

        <button id="play-button" class="play-button text-white font-bold py-3 px-8 rounded-lg text-xl w-full mb-4">
            –ò–ì–†–ê–¢–¨
        </button>

        <p id="message" class="text-gray-400 mb-4 h-6">–£ –≤–∞—Å –µ—Å—Ç—å 3 –ø–æ–ø—ã—Ç–∫–∏. –ù–∞–∂–º–∏—Ç–µ ¬´–ò–≥—Ä–∞—Ç—å¬ª!</p> <a href="https://www.google.com" target="_blank" id="bonus-button-link" class="hidden">
             <button id="bonus-button" class="bonus-button text-gray-800 font-bold py-3 px-8 rounded-lg text-xl w-full">
                –ó–ê–ë–†–ê–¢–¨ –ë–û–ù–£–°
             </button>
        </a>
    </div>

    <script>
        // –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ DOM
        const attemptsText = document.getElementById('attempts-text');
        const playButton = document.getElementById('play-button');
        const bonusButtonLink = document.getElementById('bonus-button-link');
        const message = document.getElementById('message');
        const slots = [
            document.getElementById('slot1').querySelector('.slot-symbol'),
            document.getElementById('slot2').querySelector('.slot-symbol'),
            document.getElementById('slot3').querySelector('.slot-symbol')
        ];
        const slotReels = [
            document.getElementById('slot1'),
            document.getElementById('slot2'),
            document.getElementById('slot3')
        ];

        // –í–æ–∑–º–æ–∂–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è —Å–ª–æ—Ç–æ–≤
        const symbols = ['üçí', 'üçä', 'üçã', 'üçâ', '‚≠ê', 'üîî'];
        const winningSymbol = 'üîî'; // –í—ã–∏–≥—Ä—ã—à–Ω—ã–π —Å–∏–º–≤–æ–ª

        // –ù–∞—á–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
        let attemptsLeft;

        // –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
        function initializeGame() {
            // –ü–æ–ª—É—á–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏–∑ localStorage
            const savedAttempts = localStorage.getItem('slotAttempts');

            // –ï—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ–Ω–æ —Ä–∞–≤–Ω–æ 0, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞
            if (savedAttempts !== null && parseInt(savedAttempts, 10) === 0) {
                attemptsLeft = 0;
                updateAttemptsDisplay();
                slots.forEach(slot => slot.textContent = winningSymbol); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–∏–≥—Ä—ã—à
                playButton.disabled = true; // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –ò–≥—Ä–∞—Ç—å
                bonusButtonLink.classList.remove('hidden'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ë–æ–Ω—É—Å
                message.textContent = '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!';
            } else {
                // –ò–Ω–∞—á–µ, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 3 –ø–æ–ø—ã—Ç–∫–∏ (–∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ, –µ—Å–ª–∏ –æ–Ω–æ > 0, –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –Ω–∞—á–Ω–µ–º —Å 3)
                // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ç—Ä–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å, –º–æ–∂–Ω–æ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –Ω–∏–∂–µ
                // attemptsLeft = savedAttempts !== null ? parseInt(savedAttempts, 10) : 3;
                attemptsLeft = 3; // –ù–∞—á–∏–Ω–∞–µ–º —Å 3 –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ –∏–ª–∏ –µ—Å–ª–∏ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ –∫–æ–Ω—á–∏–ª–∏—Å—å
                localStorage.setItem('slotAttempts', attemptsLeft); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
                updateAttemptsDisplay();
                playButton.disabled = false; // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
                bonusButtonLink.classList.add('hidden'); // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ë–æ–Ω—É—Å
                message.textContent = `–£ –≤–∞—Å –µ—Å—Ç—å ${attemptsLeft} –ø–æ–ø—ã—Ç–∫–∏. –ù–∞–∂–º–∏—Ç–µ ¬´–ò–≥—Ä–∞—Ç—å¬ª!`;
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å ?)
                 slots.forEach(slot => slot.textContent = '‚ùì');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫
        function updateAttemptsDisplay() {
            attemptsText.textContent = `–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: ${attemptsLeft}`;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
        function getRandomSymbol() {
            return symbols[Math.floor(Math.random() * symbols.length)];
        }

        // –§—É–Ω–∫—Ü–∏—è "–≤—Ä–∞—â–µ–Ω–∏—è" –±–∞—Ä–∞–±–∞–Ω–æ–≤
        function spinReels() {
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏
            slotReels.forEach(reel => reel.classList.add('spinning'));

            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
             setTimeout(() => {
                 slotReels.forEach(reel => reel.classList.remove('spinning'));
                 // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                 showResult();
             }, 600); // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ (0.2s * 3)

            // –í–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±—ã—Å—Ç—Ä–æ –º–µ–Ω—è—é—â–∏–µ—Å—è —Å–∏–º–≤–æ–ª—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
            let spinInterval = setInterval(() => {
                 slots.forEach(slot => slot.textContent = getRandomSymbol());
            }, 50); // –ú–µ–Ω—è–µ–º —Å–∏–º–≤–æ–ª—ã –∫–∞–∂–¥—ã–µ 50–º—Å

            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–º–µ–Ω—É —Å–∏–º–≤–æ–ª–æ–≤ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            setTimeout(() => {
                 clearInterval(spinInterval);
            }, 550);
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–ø–∏–Ω–∞
        function showResult() {
            let result = [];

            // –ï—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞ (attemptsLeft –±—É–¥–µ—Ç 0 –ø–æ—Å–ª–µ –¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∞)
            if (attemptsLeft === 0) {
                result = [winningSymbol, winningSymbol, winningSymbol]; // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à
                message.textContent = '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!';
                bonusButtonLink.classList.remove('hidden'); // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –±–æ–Ω—É—Å–∞
                playButton.disabled = true; // –û—Ç–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫—É –∏–≥—Ä–∞—Ç—å
            } else {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø–µ—Ä–≤—ã—Ö –¥–≤—É—Ö –ø–æ–ø—ã—Ç–æ–∫
                do {
                    result = [getRandomSymbol(), getRandomSymbol(), getRandomSymbol()];
                // –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º, –µ—Å–ª–∏ –≤—ã–ø–∞–ª–æ —Ç—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∏)
                // –∏–ª–∏ –µ—Å–ª–∏ –≤—ã–ø–∞–ª–æ —Ç—Ä–∏ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤—ã—Ö –¥–≤—É—Ö —Å–ø–∏–Ω–∞—Ö
                } while (
                    (result[0] === result[1] && result[1] === result[2])
                );
                message.textContent = '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!';
            }

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –±–∞—Ä–∞–±–∞–Ω–∞—Ö
            slots.forEach((slot, index) => {
                slot.textContent = result[index];
            });

            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫
            updateAttemptsDisplay();
             // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –ø–æ–ø—ã—Ç–∫–∏
            localStorage.setItem('slotAttempts', attemptsLeft);
        }


        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É "–ò–≥—Ä–∞—Ç—å"
        playButton.addEventListener('click', () => {
            if (attemptsLeft > 0) {
                attemptsLeft--; // –£–º–µ–Ω—å—à–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫

                // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Ä–∞—â–µ–Ω–∏–µ
                spinReels(); // spinReels —Ç–µ–ø–µ—Ä—å –≤—ã–∑–æ–≤–µ—Ç showResult –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        initializeGame();

    </script>

</body>
</html>
